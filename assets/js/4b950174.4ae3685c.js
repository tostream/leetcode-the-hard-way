"use strict";(self.webpackChunkleetcode_the_hard_way=self.webpackChunkleetcode_the_hard_way||[]).push([[30027],{86604:(a,s,e)=>{e.r(s),e.d(s,{assets:()=>l,contentTitle:()=>r,default:()=>d,frontMatter:()=>t,metadata:()=>m,toc:()=>c});var n=e(85893),i=e(11151);const t={description:"Author: @ColeB2 | https://leetcode.com/problems/maximum-product-subarray/",tags:["Array","Dynamic Programming"]},r="0152 - Maximum Product Subarray (Medium)",m={id:"0100-0199/maximum-product-subarray-medium",title:"0152 - Maximum Product Subarray (Medium)",description:"Author: @ColeB2 | https://leetcode.com/problems/maximum-product-subarray/",source:"@site/solutions/0100-0199/0152-maximum-product-subarray-medium.md",sourceDirName:"0100-0199",slug:"/0100-0199/maximum-product-subarray-medium",permalink:"/solutions/0100-0199/maximum-product-subarray-medium",draft:!1,unlisted:!1,editUrl:"https://github.com/wingkwong/leetcode-the-hard-way/tree/main/solutions/0100-0199/0152-maximum-product-subarray-medium.md",tags:[{label:"Array",permalink:"/solutions/tags/array"},{label:"Dynamic Programming",permalink:"/solutions/tags/dynamic-programming"}],version:"current",sidebarPosition:152,frontMatter:{description:"Author: @ColeB2 | https://leetcode.com/problems/maximum-product-subarray/",tags:["Array","Dynamic Programming"]},sidebar:"tutorialSidebar",previous:{title:"0150 - Evaluate Reverse Polish Notation (Medium)",permalink:"/solutions/0100-0199/evaluate-reverse-olish-notation-medium"},next:{title:"0154 - Find Minimum in Rotated Sorted Array II (Hard)",permalink:"/solutions/0100-0199/find-minimum-in-rotated-sorted-array-ii-hard"}},l={},c=[{value:"Problem Link",id:"problem-link",level:2},{value:"Problem Statement",id:"problem-statement",level:2},{value:"Approach 1: Dynamic Programming",id:"approach-1-dynamic-programming",level:2}];function h(a){const s={a:"a",annotation:"annotation",code:"code",em:"em",h1:"h1",h2:"h2",li:"li",math:"math",mi:"mi",mn:"mn",mo:"mo",mrow:"mrow",p:"p",pre:"pre",semantics:"semantics",span:"span",strong:"strong",ul:"ul",...(0,i.a)(),...a.components},{SolutionAuthor:e,TabItem:t,Tabs:r}=s;return e||x("SolutionAuthor",!0),t||x("TabItem",!0),r||x("Tabs",!0),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s.h1,{id:"0152---maximum-product-subarray-medium",children:"0152 - Maximum Product Subarray (Medium)"}),"\n",(0,n.jsx)(s.h2,{id:"problem-link",children:"Problem Link"}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.a,{href:"https://leetcode.com/problems/maximum-product-subarray/",children:"https://leetcode.com/problems/maximum-product-subarray/"})}),"\n",(0,n.jsx)(s.h2,{id:"problem-statement",children:"Problem Statement"}),"\n",(0,n.jsxs)(s.p,{children:["Given an integer array ",(0,n.jsx)(s.code,{children:"nums"}),", find a subarray that has the largest product, and return ",(0,n.jsx)(s.em,{children:"the product"}),"."]}),"\n",(0,n.jsxs)(s.p,{children:["The test cases are generated so that the answer will fit in a ",(0,n.jsx)(s.strong,{children:"32-bit"})," integer."]}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.strong,{children:"Example 1:"})}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{children:"Input: nums = [2,3,-2,4]\nOutput: 6\nExplanation: [2,3] has the largest product 6.\n"})}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.strong,{children:"Example 2:"})}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{children:"Input: nums = [-2,0,-1]\nOutput: 0\nExplanation: The result cannot be 2, because [-2,-1] is not a subarray.\n"})}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.strong,{children:"Constraints:"})}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:(0,n.jsx)(s.code,{children:"1 <= nums.length <= 2 * 10^4"})}),"\n",(0,n.jsx)(s.li,{children:(0,n.jsx)(s.code,{children:"-10 <= nums[i] <= 10"})}),"\n",(0,n.jsxs)(s.li,{children:["The product of any prefix or suffix of ",(0,n.jsx)(s.code,{children:"nums"})," is ",(0,n.jsx)(s.strong,{children:"guaranteed"})," to fit in a ",(0,n.jsx)(s.strong,{children:"32-bit"})," integer."]}),"\n"]}),"\n",(0,n.jsx)(s.h2,{id:"approach-1-dynamic-programming",children:"Approach 1: Dynamic Programming"}),"\n",(0,n.jsxs)(s.p,{children:["We can solve this in a single pass using dynamic programming. While looping through the numbers, we just need to track both the ",(0,n.jsxs)(s.span,{className:"katex",children:[(0,n.jsx)(s.span,{className:"katex-mathml",children:(0,n.jsx)(s.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,n.jsxs)(s.semantics,{children:[(0,n.jsxs)(s.mrow,{children:[(0,n.jsx)(s.mi,{children:"m"}),(0,n.jsx)(s.mi,{children:"i"}),(0,n.jsx)(s.mi,{children:"n"})]}),(0,n.jsx)(s.annotation,{encoding:"application/x-tex",children:"min"})]})})}),(0,n.jsx)(s.span,{className:"katex-html","aria-hidden":"true",children:(0,n.jsxs)(s.span,{className:"base",children:[(0,n.jsx)(s.span,{className:"strut",style:{height:"0.6595em"}}),(0,n.jsx)(s.span,{className:"mord mathnormal",children:"min"})]})})]})," and the ",(0,n.jsxs)(s.span,{className:"katex",children:[(0,n.jsx)(s.span,{className:"katex-mathml",children:(0,n.jsx)(s.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,n.jsxs)(s.semantics,{children:[(0,n.jsxs)(s.mrow,{children:[(0,n.jsx)(s.mi,{children:"m"}),(0,n.jsx)(s.mi,{children:"a"}),(0,n.jsx)(s.mi,{children:"x"})]}),(0,n.jsx)(s.annotation,{encoding:"application/x-tex",children:"max"})]})})}),(0,n.jsx)(s.span,{className:"katex-html","aria-hidden":"true",children:(0,n.jsxs)(s.span,{className:"base",children:[(0,n.jsx)(s.span,{className:"strut",style:{height:"0.4306em"}}),(0,n.jsx)(s.span,{className:"mord mathnormal",children:"ma"}),(0,n.jsx)(s.span,{className:"mord mathnormal",children:"x"})]})})]})," values ending at ",(0,n.jsxs)(s.span,{className:"katex",children:[(0,n.jsx)(s.span,{className:"katex-mathml",children:(0,n.jsx)(s.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,n.jsxs)(s.semantics,{children:[(0,n.jsx)(s.mrow,{children:(0,n.jsx)(s.mi,{children:"i"})}),(0,n.jsx)(s.annotation,{encoding:"application/x-tex",children:"i"})]})})}),(0,n.jsx)(s.span,{className:"katex-html","aria-hidden":"true",children:(0,n.jsxs)(s.span,{className:"base",children:[(0,n.jsx)(s.span,{className:"strut",style:{height:"0.6595em"}}),(0,n.jsx)(s.span,{className:"mord mathnormal",children:"i"})]})})]}),". Swap them if the current number at the position is negative (as that will make the ",(0,n.jsxs)(s.span,{className:"katex",children:[(0,n.jsx)(s.span,{className:"katex-mathml",children:(0,n.jsx)(s.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,n.jsxs)(s.semantics,{children:[(0,n.jsxs)(s.mrow,{children:[(0,n.jsx)(s.mi,{children:"m"}),(0,n.jsx)(s.mi,{children:"i"}),(0,n.jsx)(s.mi,{children:"n"})]}),(0,n.jsx)(s.annotation,{encoding:"application/x-tex",children:"min"})]})})}),(0,n.jsx)(s.span,{className:"katex-html","aria-hidden":"true",children:(0,n.jsxs)(s.span,{className:"base",children:[(0,n.jsx)(s.span,{className:"strut",style:{height:"0.6595em"}}),(0,n.jsx)(s.span,{className:"mord mathnormal",children:"min"})]})})]}),",",(0,n.jsxs)(s.span,{className:"katex",children:[(0,n.jsx)(s.span,{className:"katex-mathml",children:(0,n.jsx)(s.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,n.jsxs)(s.semantics,{children:[(0,n.jsxs)(s.mrow,{children:[(0,n.jsx)(s.mi,{children:"m"}),(0,n.jsx)(s.mi,{children:"a"}),(0,n.jsx)(s.mi,{children:"x"})]}),(0,n.jsx)(s.annotation,{encoding:"application/x-tex",children:"max"})]})})}),(0,n.jsx)(s.span,{className:"katex-html","aria-hidden":"true",children:(0,n.jsxs)(s.span,{className:"base",children:[(0,n.jsx)(s.span,{className:"strut",style:{height:"0.4306em"}}),(0,n.jsx)(s.span,{className:"mord mathnormal",children:"ma"}),(0,n.jsx)(s.span,{className:"mord mathnormal",children:"x"})]})})]})," switch), then calculate the new ",(0,n.jsxs)(s.span,{className:"katex",children:[(0,n.jsx)(s.span,{className:"katex-mathml",children:(0,n.jsx)(s.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,n.jsxs)(s.semantics,{children:[(0,n.jsxs)(s.mrow,{children:[(0,n.jsx)(s.mi,{children:"m"}),(0,n.jsx)(s.mi,{children:"i"}),(0,n.jsx)(s.mi,{children:"n"})]}),(0,n.jsx)(s.annotation,{encoding:"application/x-tex",children:"min"})]})})}),(0,n.jsx)(s.span,{className:"katex-html","aria-hidden":"true",children:(0,n.jsxs)(s.span,{className:"base",children:[(0,n.jsx)(s.span,{className:"strut",style:{height:"0.6595em"}}),(0,n.jsx)(s.span,{className:"mord mathnormal",children:"min"})]})})]}),",",(0,n.jsxs)(s.span,{className:"katex",children:[(0,n.jsx)(s.span,{className:"katex-mathml",children:(0,n.jsx)(s.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,n.jsxs)(s.semantics,{children:[(0,n.jsxs)(s.mrow,{children:[(0,n.jsx)(s.mi,{children:"m"}),(0,n.jsx)(s.mi,{children:"a"}),(0,n.jsx)(s.mi,{children:"x"})]}),(0,n.jsx)(s.annotation,{encoding:"application/x-tex",children:"max"})]})})}),(0,n.jsx)(s.span,{className:"katex-html","aria-hidden":"true",children:(0,n.jsxs)(s.span,{className:"base",children:[(0,n.jsx)(s.span,{className:"strut",style:{height:"0.4306em"}}),(0,n.jsx)(s.span,{className:"mord mathnormal",children:"ma"}),(0,n.jsx)(s.span,{className:"mord mathnormal",children:"x"})]})})]})," as either the ",(0,n.jsxs)(s.span,{className:"katex",children:[(0,n.jsx)(s.span,{className:"katex-mathml",children:(0,n.jsx)(s.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,n.jsxs)(s.semantics,{children:[(0,n.jsxs)(s.mrow,{children:[(0,n.jsx)(s.mi,{children:"m"}),(0,n.jsx)(s.mi,{children:"i"}),(0,n.jsx)(s.mi,{children:"n"})]}),(0,n.jsx)(s.annotation,{encoding:"application/x-tex",children:"min"})]})})}),(0,n.jsx)(s.span,{className:"katex-html","aria-hidden":"true",children:(0,n.jsxs)(s.span,{className:"base",children:[(0,n.jsx)(s.span,{className:"strut",style:{height:"0.6595em"}}),(0,n.jsx)(s.span,{className:"mord mathnormal",children:"min"})]})})]}),"/",(0,n.jsxs)(s.span,{className:"katex",children:[(0,n.jsx)(s.span,{className:"katex-mathml",children:(0,n.jsx)(s.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,n.jsxs)(s.semantics,{children:[(0,n.jsxs)(s.mrow,{children:[(0,n.jsx)(s.mi,{children:"m"}),(0,n.jsx)(s.mi,{children:"a"}),(0,n.jsx)(s.mi,{children:"x"})]}),(0,n.jsx)(s.annotation,{encoding:"application/x-tex",children:"max"})]})})}),(0,n.jsx)(s.span,{className:"katex-html","aria-hidden":"true",children:(0,n.jsxs)(s.span,{className:"base",children:[(0,n.jsx)(s.span,{className:"strut",style:{height:"0.4306em"}}),(0,n.jsx)(s.span,{className:"mord mathnormal",children:"ma"}),(0,n.jsx)(s.span,{className:"mord mathnormal",children:"x"})]})})]})," of the current num or the current num times ",(0,n.jsxs)(s.span,{className:"katex",children:[(0,n.jsx)(s.span,{className:"katex-mathml",children:(0,n.jsx)(s.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,n.jsxs)(s.semantics,{children:[(0,n.jsxs)(s.mrow,{children:[(0,n.jsx)(s.mi,{children:"m"}),(0,n.jsx)(s.mi,{children:"i"}),(0,n.jsx)(s.mi,{children:"n"})]}),(0,n.jsx)(s.annotation,{encoding:"application/x-tex",children:"min"})]})})}),(0,n.jsx)(s.span,{className:"katex-html","aria-hidden":"true",children:(0,n.jsxs)(s.span,{className:"base",children:[(0,n.jsx)(s.span,{className:"strut",style:{height:"0.6595em"}}),(0,n.jsx)(s.span,{className:"mord mathnormal",children:"min"})]})})]}),"/",(0,n.jsxs)(s.span,{className:"katex",children:[(0,n.jsx)(s.span,{className:"katex-mathml",children:(0,n.jsx)(s.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,n.jsxs)(s.semantics,{children:[(0,n.jsxs)(s.mrow,{children:[(0,n.jsx)(s.mi,{children:"m"}),(0,n.jsx)(s.mi,{children:"a"}),(0,n.jsx)(s.mi,{children:"x"})]}),(0,n.jsx)(s.annotation,{encoding:"application/x-tex",children:"max"})]})})}),(0,n.jsx)(s.span,{className:"katex-html","aria-hidden":"true",children:(0,n.jsxs)(s.span,{className:"base",children:[(0,n.jsx)(s.span,{className:"strut",style:{height:"0.4306em"}}),(0,n.jsx)(s.span,{className:"mord mathnormal",children:"ma"}),(0,n.jsx)(s.span,{className:"mord mathnormal",children:"x"})]})})]}),". We can then update the global max product with the current max and the max ending at i."]}),"\n",(0,n.jsxs)(s.p,{children:["Time Complexity: ",(0,n.jsxs)(s.span,{className:"katex",children:[(0,n.jsx)(s.span,{className:"katex-mathml",children:(0,n.jsx)(s.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,n.jsxs)(s.semantics,{children:[(0,n.jsxs)(s.mrow,{children:[(0,n.jsx)(s.mi,{children:"O"}),(0,n.jsx)(s.mo,{stretchy:"false",children:"("}),(0,n.jsx)(s.mi,{children:"n"}),(0,n.jsx)(s.mo,{stretchy:"false",children:")"})]}),(0,n.jsx)(s.annotation,{encoding:"application/x-tex",children:"O(n)"})]})})}),(0,n.jsx)(s.span,{className:"katex-html","aria-hidden":"true",children:(0,n.jsxs)(s.span,{className:"base",children:[(0,n.jsx)(s.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,n.jsx)(s.span,{className:"mord mathnormal",style:{marginRight:"0.02778em"},children:"O"}),(0,n.jsx)(s.span,{className:"mopen",children:"("}),(0,n.jsx)(s.span,{className:"mord mathnormal",children:"n"}),(0,n.jsx)(s.span,{className:"mclose",children:")"})]})})]}),", where n is the length of nums. We are going to loop through each num in nums."]}),"\n",(0,n.jsxs)(s.p,{children:["Space Complexity: ",(0,n.jsxs)(s.span,{className:"katex",children:[(0,n.jsx)(s.span,{className:"katex-mathml",children:(0,n.jsx)(s.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,n.jsxs)(s.semantics,{children:[(0,n.jsxs)(s.mrow,{children:[(0,n.jsx)(s.mi,{children:"O"}),(0,n.jsx)(s.mo,{stretchy:"false",children:"("}),(0,n.jsx)(s.mn,{children:"1"}),(0,n.jsx)(s.mo,{stretchy:"false",children:")"})]}),(0,n.jsx)(s.annotation,{encoding:"application/x-tex",children:"O(1)"})]})})}),(0,n.jsx)(s.span,{className:"katex-html","aria-hidden":"true",children:(0,n.jsxs)(s.span,{className:"base",children:[(0,n.jsx)(s.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,n.jsx)(s.span,{className:"mord mathnormal",style:{marginRight:"0.02778em"},children:"O"}),(0,n.jsx)(s.span,{className:"mopen",children:"("}),(0,n.jsx)(s.span,{className:"mord",children:"1"}),(0,n.jsx)(s.span,{className:"mclose",children:")"})]})})]}),", we only need constant space to track variables of our min/max ending at i, as well as our max product."]}),"\n",(0,n.jsx)(r,{children:(0,n.jsxs)(t,{value:"python",label:"Python",children:[(0,n.jsx)(e,{name:"@ColeB2"}),(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-py",children:"class Solution:\n    def maxProduct(self, nums: List[int]) -> int:\n        # initialize max_product, and our min/max ending at i.\n        # They can all initialize as the first value.\n        max_product = nums[0]\n        min_ending_at_i = nums[0]\n        max_ending_at_i = nums[0]\n        # start our loop at 1, since we already handled first value.\n        for i in range(1, len(nums)):\n            # track the current num\n            num = nums[i]\n            # if current num is negative:\n            if num < 0:\n                # swap min/max values as a negative number will make\n                # the min our max and the max our min.\n                min_ending_at_i, max_ending_at_i = max_ending_at_i, min_ending_at_i\n            # solve the new max/min ending at i.\n            max_ending_at_i = max(num, max_ending_at_i*num)\n            min_ending_at_i = min(num, min_ending_at_i*num)\n            # update our max product\n            max_product = max(max_product, max_ending_at_i)\n        # return our max product\n        return max_product\n"})})]})})]})}function d(a={}){const{wrapper:s}={...(0,i.a)(),...a.components};return s?(0,n.jsx)(s,{...a,children:(0,n.jsx)(h,{...a})}):h(a)}function x(a,s){throw new Error("Expected "+(s?"component":"object")+" `"+a+"` to be defined: you likely forgot to import, pass, or provide it.")}},11151:(a,s,e)=>{e.d(s,{Z:()=>m,a:()=>r});var n=e(67294);const i={},t=n.createContext(i);function r(a){const s=n.useContext(t);return n.useMemo((function(){return"function"==typeof a?a(s):{...s,...a}}),[s,a])}function m(a){let s;return s=a.disableParentContext?"function"==typeof a.components?a.components(i):a.components||i:r(a.components),n.createElement(t.Provider,{value:s},a.children)}}}]);